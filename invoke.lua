https://github.com/BuildIntoGames/pet/blob/main/invoke.lua
